<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shukudai: Misi√≥n Recompensa v4.0</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</head>
<body>

    <div class="app-container">
        
        <header>
            <div id="marcador">
                <div class="stats-row">
                    <div class="stat-box">
                        <span class="label">Puntos</span>
                        <span class="big-number" id="puntosDisplay">0 Pts</span>
                    </div>
                    <div class="stat-box">
                        <span class="label">Minutos</span>
                        <span class="big-number" id="minutosDisplay">0 Min</span>
                    </div>
                    <div class="stat-box">
                        <span class="label">Nivel</span>
                        <span class="big-number" id="nivelDisplay">1</span>
                    </div>
                </div>
            </div>
        </header>
        
        <main>
            <section id="vistaTareas" class="view">
                <h3>Tareas Diarias <span class="material-symbols-outlined icon-small">checklist</span></h3>
                
                <div id="progreso">
                    <h4>Progreso de Nivel (<span id="xpDisplay">0</span>/<span id="metaDisplay">125</span> Pts)</h4>
                    <div id="xpBar"><div id="xpFill"></div></div>
                </div>

                <div id="acciones">
                    <button id="btnDiario" class="gold">üéÅ Diario (+10 Pts)</button>
                    <button id="btnSemanal" class="blue">‚≠ê Semanal (+70 Pts)</button>
                </div>

                <div id="listaTareas">
                    </div>

                <button id="btnAdminTareas" class="danger-outline w-full mt-4">‚öôÔ∏è Administrar Tareas (CRUD)</button>
            </section>

            <section id="vistaShop" class="view hidden">
                <h3>Tienda de Recompensas <span class="material-symbols-outlined icon-small">redeem</span></h3>
                <p class="p-4 text-center text-sm text-gray-500">Solo puedes canjear premios los s√°bados y domingos.</p>
                
                <div id="gridTienda" class="grid-tienda">
                    </div>
            </section>

            <section id="vistaHorario" class="view hidden">
                <h3>Horario Escolar <span class="material-symbols-outlined icon-small">calendar_month</span></h3>
                
                <div id="formHorario" class="form-card hidden">
                    <h4>Gesti√≥n de Horario</h4>
                    <input type="hidden" id="horarioIndex">
                    <input type="hidden" id="horarioDia">
                    <input type="text" id="horarioNombre" placeholder="Nombre (Ej: Matem√°ticas)" class="input-field">
                    <input type="text" id="horarioHora" placeholder="Hora (Ej: 09:00 - 10:00)" class="input-field">
                    <select id="horarioDiaSelect" class="input-field">
                        <option value="">Seleccionar D√≠a</option>
                        <option value="Lunes">Lunes</option>
                        <option value="Martes">Martes</option>
                        <option value="Mi√©rcoles">Mi√©rcoles</option>
                        <option value="Jueves">Jueves</option>
                        <option value="Viernes">Viernes</option>
                        <option value="S√°bado">S√°bado</option>
                        <option value="Domingo">Domingo</option>
                    </select>
                    <button id="btnGuardarHorario" class="blue">Guardar Actividad</button>
                    <button id="btnCancelarHorario" class="danger-outline">Cancelar</button>
                </div>

                <div id="contenedorHorario">
                    </div>

                <button id="btnToggleHorarioForm" class="blue w-full mt-4">‚ûï A√±adir / ‚öôÔ∏è Administrar</button>
            </section>

            <section id="vistaAgenda" class="view hidden">
                <h3>Agenda y Eventos <span class="material-symbols-outlined icon-small">event_note</span></h3>

                <div id="formAgenda" class="form-card">
                    <h4>A√±adir Nuevo Evento</h4>
                    <input type="hidden" id="eventoId">
                    <input type="text" id="eventoTitulo" placeholder="T√≠tulo (Ej: Examen de Ingl√©s)" class="input-field" required>
                    <input type="date" id="eventoFecha" class="input-field" required>
                    <select id="eventoTipo" class="input-field">
                        <option value="General">General</option>
                        <option value="Examen">Examen</option>
                        <option value="Cita">Cita</option>
                    </select>
                    <textarea id="eventoComentarios" placeholder="Notas/Comentarios (Opcional)" class="input-field"></textarea>
                    <button type="submit" id="btnGuardarEvento" class="blue">Guardar Evento</button>
                </div>

                <div id="contenedorAgenda">
                    </div>
            </section>

            <section id="vistaInforme" class="view hidden">
                <h3>Informe de Progreso <span class="material-symbols-outlined icon-small">leaderboard</span></h3>
                <div class="detalle-diario-grid">
                    </div>
                
                <button id="btnReset" class="danger-outline w-full mt-4">‚ö†Ô∏è Resetear TODOS los Datos</button>
            </section>
        </main>

        <div id="dock">
            <button class="dock-item active" id="btnTareas" data-view="vistaTareas">
                <span class="material-symbols-outlined">home</span>
            </button>
            <button class="dock-item" id="btnShop" data-view="vistaShop">
                <span class="material-symbols-outlined">redeem</span>
            </button>
            <button class="dock-item" id="btnSchedule" data-view="vistaHorario">
                <span class="material-symbols-outlined">calendar_month</span>
            </button>
            <button class="dock-item" id="btnAgenda" data-view="vistaAgenda">
                <span class="material-symbols-outlined">event_note</span>
            </button>
            <button class="dock-item" id="btnReport" data-view="vistaInforme">
                <span class="material-symbols-outlined">leaderboard</span>
            </button>
        </div>

    </div>
    
    <script src="app.js"></script>

</body>
</html>
